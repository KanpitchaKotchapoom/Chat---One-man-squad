<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Register</title>
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<style>
body {
  font-family: sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background: #f0f0f0;
}
#registerContainer {
  background: white;
  padding: 2rem;
  border-radius: 1rem;
  box-shadow: 0 0 10px rgba(0,0,0,0.2);
  width: 300px;
}
#registerContainer h2 {
  text-align: center;
  margin-bottom: 1rem;
}
#registerContainer input {
  width: 100%;
  padding: 0.5rem;
  margin-bottom: 1rem;
  border-radius: 0.5rem;
  border: 1px solid #ccc;
}
#registerContainer button {
  width: 100%;
  padding: 0.5rem;
  border: none;
  border-radius: 0.5rem;
  background: #0d9488;
  color: white;
  font-weight: bold;
  cursor: pointer;
}
#registerContainer button:hover {
  background: #0f766e;
}
#registerContainer p {
  text-align: center;
  margin-top: 1rem;
}
#registerContainer a {
  color: #0d9488;
  text-decoration: none;
}
#registerContainer a:hover {
  text-decoration: underline;
}
</style>
</head>
<body>

<div id="registerContainer">
  <h2>üìù Register</h2>
  <input id="username" type="text" placeholder="Username"/>
  <input id="password" type="password" placeholder="Password"/>
  <button id="registerBtn">Register</button>
  <p>‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÅ‡∏•‡πâ‡∏ß? <a href="/login">Login</a></p>
</div>

<script>
const socket = io();

$("#registerBtn").click(()=>{
    const username = $("#username").val().trim();
    const password = $("#password").val().trim();
    if(!username || !password) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å username ‡πÅ‡∏•‡∏∞ password");
    socket.emit("register", {username, password});
});

socket.on("register_response", (res)=>{
    if(res.success) {
        alert("‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡πÑ‡∏õ login");
        location.href="/login";
    } else {
        alert(res.message);
    }
});
</script>

</body>
</html>
